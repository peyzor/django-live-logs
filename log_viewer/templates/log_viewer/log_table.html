{% load static i18n %}

<tbody id="log-entries-data" x-data="{ copiedValue: '' }">
{% if log_entries %}
    {% for log_entry in log_entries %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ log_entry }}
                <buttton @click="copyText($event)">
                    <i class="fa-solid fa-copy copy-icon"></i>
                </buttton>
            </td>
        </tr>
    {% endfor %}

{% else %}
    <tr>
        <td colspan="2">{% trans 'No entries!' %}</td>
    </tr>
{% endif %}

<script>
    function copyText(event) {
        const parentTd = event.target.closest('td');
        const textToCopy = parentTd.textContent.trim();
        navigator.clipboard.writeText(textToCopy);

        Alpine.store('copiedValue', textToCopy);
    }

    Alpine.data('copyText', copyText);
</script>

</tbody>
